(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1dcd4410"],{"80b8":function(e,t,i){},aaa3:function(e,t,i){"use strict";var s=i("80b8"),o=i.n(s);o.a},cc5e:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"d",(function(){return n})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return c}));var s=i("b775");function o(e){return Object(s["a"])({url:"api/system/role",method:"POST",data:e})}function n(e){return Object(s["a"])({url:"api/system/role",method:"PATCH",data:e})}function r(e){return Object(s["a"])({url:"api/system/role/"+e,method:"DELETE"})}function c(e,t){return Object(s["a"])({url:"api/system/role/resource/"+e,method:"POST",params:t})}},e649:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"资源授权",visible:e.resvisible,width:"600px","label-width":"80px"},on:{"update:visible":function(t){e.resvisible=t}}},[i("div",{staticClass:"user-div",domProps:{textContent:e._s(e.rolenames)}}),i("div",{staticStyle:{height:"1px",width:"100%","background-color":"#989898",margin:"5px auto"}}),i("div",{staticClass:"ztree_box custom-scroll"},[i("ul",{staticClass:"ztree",staticStyle:{"margin-top":"5px",height:"400px",overflow:"auto"},attrs:{id:"res-tree"}})]),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.doSubmit}},[e._v("确 定")]),i("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取 消")])],1)])},o=[],n=(i("a15b"),i("1157"),i("2654"),i("1f56"),i("cc5e")),r=i("1f27"),c={name:"res-dialog",data:function(){return{loading:!1,resvisible:!1,roleIds:"",rolenames:"",setting:{check:{enable:!0},callback:{onClick:this.treeClick}},zNodes:[],clickId:"",treeNode:{},tree:{}}},computed:{uid:function(){return this.$store.state.user.user.id}},methods:{init:function(e){var t=this,i=this;Object(r["h"])(e,this.uid).then((function(e){i.zNodes=[],i.zNodes.push(e.data),t.tree=$.fn.zTree.init($("#res-tree"),i.setting,i.zNodes);var s=t.tree.getNodeByParam("parentid","0",null);t.tree.expandNode(s,!0,!1,!1)})).catch((function(e){console.log("error:"+e),console.log(e)}))},treeClick:function(e,t,i,s){this.clickId=i.id,this.treeNode=i},doSubmit:function(){for(var e=this,t=this.tree.getCheckedNodes(!0),i=[],s=0;s<=t.length-1;s++)i.push(t[s].id);console.log(i),0!==t.length?(this.loading=!0,Object(n["c"])(this.roleIds,{resids:i.join(",")}).then((function(t){"ok"===t.result?(e.loading=!1,e.$message({message:"操作成功",type:"success"}),e.resvisible=!1):(e.loading=!1,e.$message.error("操作失败"),e.resvisible=!1)})).catch((function(e){console.log(e)}))):this.$message.error("请选择要授权的资源")},cancel:function(){this.resvisible=!1}}},a=c,l=(i("aaa3"),i("2877")),u=Object(l["a"])(a,s,o,!1,null,"0a898bc2",null);t["default"]=u.exports}}]);