(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-92e1f74e"],{a12f:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:e.isAdd?"新增限速措施":"修改限速措施",closeOnClickModal:!1,visible:e.visible,width:"500px","label-width":"80px"},on:{"update:visible":function(t){e.visible=t}}},[i("el-form",{ref:"form",attrs:{model:e.dataForm,size:"small","label-position":"right","label-width":"70px"}},[i("el-input",{attrs:{type:"hidden"},model:{value:e.dataForm.id,callback:function(t){e.$set(e.dataForm,"id",t)},expression:"dataForm.id"}}),i("el-form-item",{attrs:{label:"降速措施类型","label-width":"110px"}},[i("el-select",{staticStyle:{width:"330px"},attrs:{clearable:"",placeholder:"降速措施类型",required:"true"},model:{value:e.dataForm.plannedEventTypeIds,callback:function(t){e.$set(e.dataForm,"plannedEventTypeIds",t)},expression:"dataForm.plannedEventTypeIds"}},e._l(e.options,(function(e,t){return i("el-option",{key:t,attrs:{label:e.name,value:e.key}})})),1)],1),i("el-form-item",{attrs:{label:"限速措施名称",prop:"speedLimitsName","label-width":"110px"}},[i("el-input",{staticStyle:{width:"330px"},attrs:{clearable:"",required:"true",autocomplete:"off"},model:{value:e.dataForm.speedLimitsName,callback:function(t){e.$set(e.dataForm,"speedLimitsName",t)},expression:"dataForm.speedLimitsName"}})],1),i("el-form-item",{attrs:{label:"限速措施描述",prop:"speedLimitsDes","label-width":"110px"}},[i("el-input",{staticStyle:{width:"330px"},attrs:{clearable:"",required:"true",autocomplete:"off"},model:{value:e.dataForm.speedLimitsDes,callback:function(t){e.$set(e.dataForm,"speedLimitsDes",t)},expression:"dataForm.speedLimitsDes"}})],1),i("el-form-item",{attrs:{label:"限速措施值",prop:"speedLimitsValue","label-width":"110px"}},[i("el-input",{staticStyle:{width:"330px"},attrs:{clearable:"",required:"true",autocomplete:"off"},model:{value:e.dataForm.speedLimitsValue,callback:function(t){e.$set(e.dataForm,"speedLimitsValue",t)},expression:"dataForm.speedLimitsValue"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.doSubmit}},[e._v("确 定")]),i("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取 消")])],1)],1)},o=[],r=i("d305"),n={props:{options:{type:Array,required:!0}},data:function(){return{loading:!1,visible:!1,isAdd:!1,dataForm:{id:"",informationScreenContent:"",highPitchedHornContent:"",visibility:"",roadStatus:"",weatherState:"",bootScreenInformation:"",sort:""}}},methods:{selectOne:function(e){this.$parent.query.search_type=e},cancel:function(){this.resetForm()},resetForm:function(){this.visible=!1,this.$refs["form"].resetFields(),this.dataForm={id:"",informationScreenContent:"",highPitchedHornContent:"",visibility:"",roadStatus:"",weatherState:"",bootScreenInformation:"",sort:""}},continueAdd:function(){var e=this;this.dataForm.type;this.isAdd&&Object(r["a"])(this.dataForm).then((function(t){e.$message({message:"添加成功",type:"success"}),e.dataForm={id:"",informationScreenContent:"",highPitchedHornContent:"",visibility:"",roadStatus:"",weatherState:"",bootScreenInformation:"",sort:""},e.$parent.page=0,e.isAdd=!0,e.$parent.init()})).catch((function(e){console.log("error:"+e),console.log(e)}))},doSubmit:function(){var e=this;this.isAdd?Object(r["a"])(this.dataForm).then((function(t){"ok"===t.result?(e.resetForm(),e.$message({message:"添加成功",type:"success"})):e.$message({message:"添加失败",type:"error"}),e.loading=!1,e.$parent.page=0,e.$parent.dialogFormVisible=!1,e.$parent.init()})).catch((function(e){console.log("error:"+e),console.log(e)})):this.doEdit()},doEdit:function(){var e=this;this.isAdd||Object(r["c"])(this.dataForm).then((function(t){e.resetForm(),e.$message({message:"修改成功",type:"success"}),e.loading=!1,e.$parent.dialogFormVisible=!1,e.$parent.init()})).catch((function(e){console.log("error:"+e),console.log(e)}))}}},s=n,l=i("2877"),d=Object(l["a"])(s,a,o,!1,null,null,null);t["default"]=d.exports},d305:function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return n}));var a=i("b775");function o(e){return Object(a["a"])({url:"plan/addSpeedLimits",method:"POST",data:e})}function r(e){return Object(a["a"])({url:"plan/updateSpeedLimits",method:"PATCH",data:e})}function n(e){return Object(a["a"])({url:"plan/deleteSpeedLimits/"+e,method:"DELETE"})}}}]);