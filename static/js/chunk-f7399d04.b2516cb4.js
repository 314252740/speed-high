(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f7399d04"],{"9efa":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"b",(function(){return i}));var o=a("b775");function r(t){return Object(o["a"])({url:"plan/addControls",method:"POST",data:t})}function n(t){return Object(o["a"])({url:"plan/updateControls",method:"PATCH",data:t})}function i(t){return Object(o["a"])({url:"plan/deleteControls/"+t,method:"DELETE"})}},dda3:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.isAdd?"新增管控措施":"修改管控措施",closeOnClickModal:!1,visible:t.visible,width:"500px","label-width":"80px"},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"form",attrs:{model:t.dataForm,size:"small","label-position":"right","label-width":"70px"}},[a("el-input",{attrs:{type:"hidden"},model:{value:t.dataForm.id,callback:function(e){t.$set(t.dataForm,"id",e)},expression:"dataForm.id"}}),a("el-form-item",{attrs:{label:"管控措施类型",prop:"plannedEventTypeIds","label-width":"110px"}},[a("el-select",{staticStyle:{width:"330px"},attrs:{placeholder:"管控措施类型",required:"true"},model:{value:t.dataForm.plannedEventTypeIds,callback:function(e){t.$set(t.dataForm,"plannedEventTypeIds",e)},expression:"dataForm.plannedEventTypeIds"}},t._l(t.options,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.key}})})),1)],1),a("el-form-item",{attrs:{label:"信息屏内容",prop:"informationScreenContent","label-width":"110px"}},[a("el-input",{staticStyle:{width:"330px"},attrs:{clearable:"",required:"true",autocomplete:"off"},model:{value:t.dataForm.informationScreenContent,callback:function(e){t.$set(t.dataForm,"informationScreenContent",e)},expression:"dataForm.informationScreenContent"}})],1),a("el-form-item",{attrs:{label:"高音号角内容",prop:"highPitchedHornContent","label-width":"110px"}},[a("el-input",{staticStyle:{width:"330px"},attrs:{clearable:"",required:"true",autocomplete:"off"},model:{value:t.dataForm.highPitchedHornContent,callback:function(e){t.$set(t.dataForm,"highPitchedHornContent",e)},expression:"dataForm.highPitchedHornContent"}})],1),a("el-form-item",{attrs:{label:"能见度",prop:"visibility","label-width":"110px"}},[a("el-select",{staticStyle:{width:"330px"},attrs:{clearable:"",required:"true",autocomplete:"off"},model:{value:t.dataForm.visibility,callback:function(e){t.$set(t.dataForm,"visibility",e)},expression:"dataForm.visibility"}},t._l(t.selectList.visibility,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"路面状态",prop:"roadStatus","label-width":"110px"}},[a("el-select",{staticStyle:{width:"330px"},attrs:{clearable:"",required:"true",autocomplete:"off"},model:{value:t.dataForm.roadStatus,callback:function(e){t.$set(t.dataForm,"roadStatus",e)},expression:"dataForm.roadStatus"}},t._l(t.selectList.roadCond,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"天气状况",prop:"weatherState","label-width":"110px"}},[a("el-select",{staticStyle:{width:"330px"},attrs:{clearable:"",required:"true",autocomplete:"off"},model:{value:t.dataForm.weatherState,callback:function(e){t.$set(t.dataForm,"weatherState",e)},expression:"dataForm.weatherState"}},t._l(t.selectList.weatherCond,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"引导屏信息",prop:"bootScreenInformation","label-width":"110px"}},[a("el-input",{staticStyle:{width:"330px"},attrs:{clearable:"",required:"true",autocomplete:"off"},model:{value:t.dataForm.bootScreenInformation,callback:function(e){t.$set(t.dataForm,"bootScreenInformation",e)},expression:"dataForm.bootScreenInformation"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort","label-width":"110px"}},[a("el-input",{staticStyle:{width:"330px"},attrs:{clearable:"",required:"true",autocomplete:"off"},model:{value:t.dataForm.sort,callback:function(e){t.$set(t.dataForm,"sort",e)},expression:"dataForm.sort"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.doSubmit}},[t._v("确 定")]),a("el-button",{on:{click:function(e){return t.cancel()}}},[t._v("取 消")])],1)],1)},r=[],n=a("9efa"),i={props:{options:{type:Array,required:!0},selectList:{type:Object,default:function(){},required:!0}},data:function(){return{loading:!1,visible:!1,isAdd:!1,dataForm:{id:"",informationScreenContent:"",highPitchedHornContent:"",visibility:"",roadStatus:"",weatherState:"",bootScreenInformation:"",sort:""}}},methods:{selectOne:function(t){this.$parent.query.search_type=t},cancel:function(){this.resetForm()},resetForm:function(){this.visible=!1,this.$refs["form"].resetFields(),this.dataForm={id:"",informationScreenContent:"",highPitchedHornContent:"",visibility:"",roadStatus:"",weatherState:"",bootScreenInformation:"",sort:""}},continueAdd:function(){var t=this;this.isAdd&&Object(n["a"])(this.dataForm).then((function(e){t.$message({message:"添加成功",type:"success"}),t.dataForm={id:"",informationScreenContent:"",highPitchedHornContent:"",visibility:"",roadStatus:"",weatherState:"",bootScreenInformation:"",sort:""},t.$parent.page=0,t.isAdd=!0,t.$parent.init()})).catch((function(t){console.log("error:"+t),console.log(t)}))},doSubmit:function(){var t=this;this.isAdd?Object(n["a"])(this.dataForm).then((function(e){"ok"===e.result?(t.resetForm(),t.$message({message:"添加成功",type:"success"})):t.$message({message:"添加失败",type:"error"}),t.loading=!1,t.$parent.page=0,t.$parent.init()})).catch((function(t){console.log("error:"+t),console.log(t)})):this.doEdit()},doEdit:function(){var t=this;this.isAdd||Object(n["c"])(this.dataForm).then((function(e){t.resetForm(),t.$message({message:"修改成功",type:"success"}),t.loading=!1,t.$parent.init()})).catch((function(t){console.log("error:"+t),console.log(t)}))}}},l=i,s=a("2877"),c=Object(s["a"])(l,o,r,!1,null,null,null);e["default"]=c.exports}}]);