(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f752a94"],{"3e68":function(e,t,r){"use strict";var a=r("42e8"),o=r.n(a);o.a},"42e8":function(e,t,r){},"78bc":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return n})),r.d(t,"f",(function(){return s})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return c}));var a=r("b775");function o(e){return Object(a["a"])({url:"module/syspoliceuser",method:"POST",data:e})}function l(e){return Object(a["a"])({url:"module/syspoliceuser",method:"PATCH",data:e})}function n(e){return Object(a["a"])({url:"module/syspoliceuser/"+e,method:"DELETE"})}function s(){return Object(a["a"])({url:"module/getPoliceType",method:"get"})}function i(e){return Object(a["a"])({url:"module/getLeaders/"+e,method:"get"})}function c(e){return Object(a["a"])({url:"module/getListByName/"+e,method:"get"})}},"7db0":function(e,t,r){"use strict";var a=r("23e7"),o=r("b727").find,l=r("44d2"),n="find",s=!0;n in[]&&Array(1)[n]((function(){s=!1})),a({target:"Array",proto:!0,forced:s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),l(n)},"8dae":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.isAdd?"新增警员信息":"修改警员信息",visible:e.visible,closeOnClickModal:!1,width:"900px","label-width":"80px"},on:{"update:visible":function(t){e.visible=t},open:function(t){return e.getSub()}}},[r("div",{staticClass:"container"},[r("div",{ref:"dialogForm",staticClass:"mapCont"},[r("el-form",{ref:"form",attrs:{model:e.dataForm,rules:e.rules,size:"small","label-position":"right","label-width":"125px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"警员编号",prop:"code"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"",required:"true",minlength:"6",maxlength:"20",autocomplete:"off"},model:{value:e.dataForm.code,callback:function(t){e.$set(e.dataForm,"code",t)},expression:"dataForm.code"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"姓名",prop:"name"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"",required:"true",minlength:"6",maxlength:"20",autocomplete:"off"},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"机构名称",prop:"orgId1"}},[r("el-select",{staticStyle:{width:"250px"},attrs:{clearable:"",placeholder:"机构名称",required:"true"},on:{change:function(t){return e.selecOrg(e.dataForm.orgId1)}},model:{value:e.dataForm.orgId1,callback:function(t){e.$set(e.dataForm,"orgId1",t)},expression:"dataForm.orgId1"}},e._l(e.options1,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.key}})})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"子机构",prop:"orgId"}},[r("el-select",{staticStyle:{width:"250px"},attrs:{clearable:"",placeholder:"子机构",required:"true"},model:{value:e.dataForm.orgId,callback:function(t){e.$set(e.dataForm,"orgId",t)},expression:"dataForm.orgId"}},e._l(e.options2,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.key}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"职务类型",prop:"types"}},[r("el-select",{staticStyle:{width:"250px"},attrs:{clearable:"",placeholder:"职务类型",required:"true"},model:{value:e.dataForm.types,callback:function(t){e.$set(e.dataForm,"types",t)},expression:"dataForm.types"}},e._l(e.options6,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.key}})})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"职位编码",prop:"postCode"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"",required:"true",minlength:"6",maxlength:"20",autocomplete:"off"},model:{value:e.dataForm.postCode,callback:function(t){e.$set(e.dataForm,"postCode",t)},expression:"dataForm.postCode"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"电话",prop:"telPhone"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"",required:"true",minlength:"6",maxlength:"20",autocomplete:"off"},model:{value:e.dataForm.telPhone,callback:function(t){e.$set(e.dataForm,"telPhone",t)},expression:"dataForm.telPhone"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"电台呼叫",prop:"callnumber"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"",required:"true",minlength:"6",maxlength:"20",autocomplete:"off"},model:{value:e.dataForm.callnumber,callback:function(t){e.$set(e.dataForm,"callnumber",t)},expression:"dataForm.callnumber"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"电台频段信息",prop:"frequency"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{clearable:"",required:"true",minlength:"6",maxlength:"2000",autocomplete:"off"},model:{value:e.dataForm.frequency,callback:function(t){e.$set(e.dataForm,"frequency",t)},expression:"dataForm.frequency"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"状态",prop:"status"}},[r("el-select",{staticStyle:{width:"250px"},attrs:{clearable:"",placeholder:"状态",required:"true"},model:{value:e.dataForm.status,callback:function(t){e.$set(e.dataForm,"status",t)},expression:"dataForm.status"}},e._l(e.options3,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.key}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否有GPS定位",prop:"hasGps"}},[r("el-select",{staticStyle:{width:"250px"},attrs:{clearable:"",placeholder:"是否有GPS定位",required:"true"},model:{value:e.dataForm.hasGps,callback:function(t){e.$set(e.dataForm,"hasGps",t)},expression:"dataForm.hasGps"}},e._l(e.options4,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.key}})})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"是否正在定位跟踪",prop:"isTrack"}},[r("el-select",{staticStyle:{width:"250px"},attrs:{clearable:"",placeholder:"是否正在定位跟踪",required:"true"},model:{value:e.dataForm.isTrack,callback:function(t){e.$set(e.dataForm,"isTrack",t)},expression:"dataForm.isTrack"}},e._l(e.options5,(function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.key}})})),1)],1)],1)],1),r("el-form-item",{attrs:{label:"GPS通讯手机号",prop:"gpsTelnumber"}},[r("el-input",{attrs:{clearable:"",required:"true",minlength:"6",maxlength:"20",autocomplete:"off"},model:{value:e.dataForm.gpsTelnumber,callback:function(t){e.$set(e.dataForm,"gpsTelnumber",t)},expression:"dataForm.gpsTelnumber"}})],1),r("el-form-item",{attrs:{label:"GPS设备序列号",prop:"gpsSerialId"}},[r("el-input",{attrs:{clearable:"",required:"true",minlength:"6",maxlength:"2000",autocomplete:"off"},model:{value:e.dataForm.gpsSerialId,callback:function(t){e.$set(e.dataForm,"gpsSerialId",t)},expression:"dataForm.gpsSerialId"}})],1),r("el-form-item",{attrs:{label:"备注",prop:"note"}},[r("el-input",{attrs:{clearable:"",required:"true",minlength:"6",maxlength:"20",autocomplete:"off"},model:{value:e.dataForm.note,callback:function(t){e.$set(e.dataForm,"note",t)},expression:"dataForm.note"}})],1)],1)],1)]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.doSubmit}},[e._v("确 定")]),r("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取 消")])],1)])},o=[],l=(r("7db0"),r("b0c0"),r("78bc")),n=r("b578"),s={props:{options6:{type:Array},options1:{type:Array},options3:{type:Array},options4:{type:Array},options5:{type:Array}},data:function(){return{options2:[],loading:!1,visible:!1,isAdd:!1,dataForm:{id:"",code:"",name:"",types:"",orgId:"",orgId1:"",postCode:"",telPhone:"",gpsTelnumber:"",createTime:"",note:"",callnumber:"",frequency:"",status:"",hasGps:"",gpsSerialId:"",isTrack:"",isDelete:""},rules:{name:[{required:!0,message:"请输入警员名称",trigger:"blur"}]}}},methods:{getSub:function(){var e=this,t=this.dataForm.orgId1;this.isAdd||(null!==t?Object(n["h"])(t).then((function(t){e.options2=t})).catch((function(e){return console.log(e)})):this.dataForm.orgId="")},rcod:function(){var e=this.dataForm.roadCode,t={};t=this.options6.find((function(t){return t.code===e})),this.dataForm.roadName=t.name},setLnglat:function(e){this.dataForm.longitude=e[0],this.dataForm.latitude=e[1]},cancel:function(){this.resetForm()},resetForm:function(){this.visible=!1,this.$refs["form"].resetFields(),this.dataForm={id:"",code:"",name:"",types:"",orgId:"",orgId1:"",postCode:"",telPhone:"",gpsTelnumber:"",createTime:"",note:"",callnumber:"",frequency:"",status:"",hasGps:"",gpsSerialId:"",isTrack:"",isDelete:""}},doSubmit:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.isAdd?Object(l["a"])(e.dataForm).then((function(t){"ok"===t.result?(e.resetForm(),e.$message({message:"添加成功",type:"success"})):e.$message({message:"添加失败",type:"error"}),e.loading=!1,e.$parent.page=0,e.$parent.dialogFormVisible=!1,e.$parent.init()})).catch((function(e){console.log("error:"+e),console.log(e)})):e.doEdit())}))},doEdit:function(){var e=this;this.isAdd||Object(l["c"])(this.dataForm).then((function(t){e.resetForm(),e.$message({message:"修改成功",type:"success"}),e.loading=!1,e.$parent.dialogFormVisible=!1,e.$parent.init()})).catch((function(e){console.log("error:"+e),console.log(e)}))},selecOrg:function(e){var t=this;Object(n["h"])(e).then((function(e){t.options2=e})).catch((function(e){return console.log(e)}))}}},i=s,c=(r("3e68"),r("2877")),u=Object(c["a"])(i,a,o,!1,null,"6721b360",null);t["default"]=u.exports},b578:function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return s})),r.d(t,"g",(function(){return i})),r.d(t,"f",(function(){return c})),r.d(t,"h",(function(){return u})),r.d(t,"e",(function(){return d}));var a=r("b775");function o(e){return Object(a["a"])({url:"api/system/orgs",method:"get",params:e})}function l(e){return Object(a["a"])({url:"api/system/org",method:"POST",data:e})}function n(e){return Object(a["a"])({url:"api/system/org",method:"PATCH",data:e})}function s(e){return Object(a["a"])({url:"api/system/org/"+e,method:"DELETE"})}function i(){return Object(a["a"])({url:"system/org/getSysOrgLevels",method:"get"})}function c(e){return Object(a["a"])({url:"system/org/getSysOrgByParid/"+e,method:"get"})}function u(e){return Object(a["a"])({url:"system/org/getSysOrgByPid/"+e,method:"get"})}function d(){return Object(a["a"])({url:"system/org/getall",method:"GET"})}}}]);