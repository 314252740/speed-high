(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0124e9a8"],{"752e":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:e.isAdd?"新增角色":"修改角色",closeOnClickModal:!1,visible:e.visible,width:"600px","label-width":"80px"},on:{"update:visible":function(t){e.visible=t}}},[r("el-form",{ref:"form",attrs:{model:e.dataForm,rules:e.rules,size:"small","label-position":"right","label-width":"70px"}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{attrs:{clearable:"",required:"true",minlength:"6",maxlength:"20",autocomplete:"off"},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}})],1),r("el-form-item",{attrs:{label:"编码",prop:"code"}},[r("el-input",{attrs:{clearable:"",required:"true",minlength:"6",maxlength:"20",autocomplete:"off"},model:{value:e.dataForm.code,callback:function(t){e.$set(e.dataForm,"code",t)},expression:"dataForm.code"}})],1),r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{attrs:{type:"textarea",rows:4,clearable:"",maxlength:"300",autocomplete:"off"},model:{value:e.dataForm.memo,callback:function(t){e.$set(e.dataForm,"memo",t)},expression:"dataForm.memo"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.doSubmit}},[e._v("确 定")]),r("el-button",{on:{click:function(t){return e.cancel()}}},[e._v("取 消")])],1)],1)},o=[],n=r("cc5e"),i={data:function(){return{loading:!1,visible:!1,isAdd:!1,dataForm:{id:"",code:"",name:"",memo:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],code:[{required:!1,message:"请输入编码",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"},{pattern:/^[A-Za-z]+$/,message:"只能输入英文字符",trigger:"blur"}]}}},methods:{cancel:function(){this.resetForm()},resetForm:function(){this.visible=!1,this.$refs["form"].resetFields(),this.dataForm={id:"",code:"",name:"",memo:""}},doSubmit:function(){var e=this;this.$refs["form"].validate((function(t){t&&(e.isAdd?Object(n["a"])(e.dataForm).then((function(t){"ok"===t.result?(e.resetForm(),e.$message({message:"添加成功",type:"success"})):e.$message({message:"添加失败",type:"error"}),e.loading=!1,e.$parent.page=0,e.$parent.dialogFormVisible=!1,e.$parent.init()})).catch((function(e){console.log("error:"+e),console.log(e)})):e.doEdit())}))},doEdit:function(){var e=this;this.isAdd||Object(n["d"])(this.dataForm).then((function(t){e.resetForm(),e.$message({message:"修改成功",type:"success"}),e.loading=!1,e.$parent.dialogFormVisible=!1,e.$parent.init()})).catch((function(e){console.log("error:"+e),console.log(e)}))}}},s=i,l=r("2877"),m=Object(l["a"])(s,a,o,!1,null,null,null);t["default"]=m.exports},cc5e:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"d",(function(){return n})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return s}));var a=r("b775");function o(e){return Object(a["a"])({url:"api/system/role",method:"POST",data:e})}function n(e){return Object(a["a"])({url:"api/system/role",method:"PATCH",data:e})}function i(e){return Object(a["a"])({url:"api/system/role/"+e,method:"DELETE"})}function s(e,t){return Object(a["a"])({url:"api/system/role/resource/"+e,method:"POST",params:t})}}}]);